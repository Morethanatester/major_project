{% extends 'base.html' %}

{% block content %}

<!-- Page content-->
<div class="jumbotron text-center">
    <h1 class="display-4">Welcome to Your Test Maturity Self Assessment Application</h1>
    <p class="lead">Reduce Cost, Reduce Time and Increase Quality</p>
    <hr class="my-4">
    <p>Learn how to implement modern test practices and calculate detailed costs associated with testing.</p>

    <!-- Line break -->
    <hr>
<div class="container mt-4">
    <h1 class="text-center">Baseline Assessment Results</h1>

    <!-- Tiles to display total cost and cost per test -->
    <div class="d-flex justify-content-center">
        <div class="card mb-3 mx-2" style="width: 18rem;">
            <div class="card-header">Baselined Total Cost</div>
            <div class="card-body">
                <h5 class="card-title">£{{ request.session.total_cost }}</h5>
            </div>
        </div>
        <div class="card mb-3 mx-2" style="width: 18rem;">
            <div class="card-header">Baselined Cost Per Test</div>
            <div class="card-body">
                <h5 class="card-title">£{{ request.session.cost_per_test }}</h5>
            </div>
        </div>
        <div class="card mb-3 mx-2" style="width: 18rem;">
            <div class="card-header">New Total Cost</div>
            <div class="card-body">
                <h5 class="card-title">£{{ new_total_cost }}</h5>
            </div>
        </div>
        <div class="card mb-3 mx-2" style="width: 18rem;">
            <div class="card-header">New Cost Per Test</div>
            <div class="card-body">
                <h5 class="card-title">£{{ new_cost_per_test }}</h5>
            </div>
        </div>
    </div>

    <!-- Line break -->
    <hr>
    <p class="text-center">ADD OVERALL MATURITY LEVEL ONCE COMPLETED</p>

    <p class="text-center">The following questions will help you assess your maturity in Quality Engineering.</p>


    <!-- Maturity questions -->
    <h2 class="text-center">Maturity Assessment Questions</h2>
    <form method="POST" action="{% url 'maturity_assessment' %}">
        {% csrf_token %}
        <table class="table">
            <thead>
                <tr>
                    <th>Question</th>
                    <th>No Maturity</th>
                    <th>Low Maturity</th>
                    <th>Good Maturity</th>
                    <th>High Maturity/Continuous Maturity</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Do you follow an integrated SE/QE development approach?</td>
                    <td><input type="radio" name="question_1" value="0"></td>
                    <td><input type="radio" name="question_1" value="1"></td>
                    <td><input type="radio" name="question_1" value="2"></td>
                    <td><input type="radio" name="question_1" value="3"></td>
                </tr>
                <tr>
                    <td>Do all Quality Engineers write code for interviews?</td>
                    <td><input type="radio" name="question_2" value="0"></td>
                    <td><input type="radio" name="question_2" value="1"></td>
                    <td><input type="radio" name="question_2" value="2"></td>
                    <td><input type="radio" name="question_2" value="3"></td>
                </tr>
                <tr>
                    <td>Do your Quality Engineers have training opportunities and budget?</td>
                    <td><input type="radio" name="question_3" value="0"></td>
                    <td><input type="radio" name="question_3" value="1"></td>
                    <td><input type="radio" name="question_3" value="2"></td>
                    <td><input type="radio" name="question_3" value="3"></td>
                </tr>
                <tr>
                    <td>Do you have Quality Engineering Principles in place (MVE)?</td>
                    <td><input type="radio" name="question_4" value="0"></td>
                    <td><input type="radio" name="question_4" value="1"></td>
                    <td><input type="radio" name="question_4" value="2"></td>
                    <td><input type="radio" name="question_4" value="3"></td>
                </tr>
                <tr>
                    <td>Do you continue to follow your principles even when you have a tight deadline?</td>
                    <td><input type="radio" name="question_5" value="0"></td>
                    <td><input type="radio" name="question_5" value="1"></td>
                    <td><input type="radio" name="question_5" value="2"></td>
                    <td><input type="radio" name="question_5" value="3"></td>
                </tr>
                <tr>
                    <td>Are new tests automated from Unit to Release?</td>
                    <td><input type="radio" name="question_6" value="0"></td>
                    <td><input type="radio" name="question_6" value="1"></td>
                    <td><input type="radio" name="question_6" value="2"></td>
                    <td><input type="radio" name="question_6" value="3"></td>
                </tr>
                <tr>
                    <td>Are E2E tests Embedded as part of your CI/CD?</td>
                    <td><input type="radio" name="question_7" value="0"></td>
                    <td><input type="radio" name="question_7" value="1"></td>
                    <td><input type="radio" name="question_7" value="2"></td>
                    <td><input type="radio" name="question_7" value="3"></td>
                </tr>
                <tr>
                    <td>Are non-functional test run as part of CI/CD?</td>
                    <td><input type="radio" name="question_8" value="0"></td>
                    <td><input type="radio" name="question_8" value="1"></td>
                    <td><input type="radio" name="question_8" value="2"></td>
                    <td><input type="radio" name="question_8" value="3"></td>
                </tr>
                <tr>
                    <td>Are all key workflows automated?</td>
                    <td><input type="radio" name="question_9" value="0"></td>
                    <td><input type="radio" name="question_9" value="1"></td>
                    <td><input type="radio" name="question_9" value="2"></td>
                    <td><input type="radio" name="question_9" value="3"></td>
                </tr>
                <tr>
                    <td>Is your Test Data generation automated?</td>
                    <td><input type="radio" name="question_10" value="0"></td>
                    <td><input type="radio" name="question_10" value="1"></td>
                    <td><input type="radio" name="question_10" value="2"></td>
                    <td><input type="radio" name="question_10" value="3"></td>
                </tr>
                <tr>
                    <td>Do you have the best tools available to support?</td>
                    <td><input type="radio" name="question_11" value="0"></td>
                    <td><input type="radio" name="question_11" value="1"></td>
                    <td><input type="radio" name="question_11" value="2"></td>
                    <td><input type="radio" name="question_11" value="3"></td>
                </tr>
                <tr>
                    <td>Are your Environment builds automated?</td>
                    <td><input type="radio" name="question_12" value="0"></td>
                    <td><input type="radio" name="question_12" value="1"></td>
                    <td><input type="radio" name="question_12" value="2"></td>
                    <td><input type="radio" name="question_12" value="3"></td>
                </tr>
                <tr>
                    <td>Do you monitor Env activity and run synthetic health checks in Env?</td>
                    <td><input type="radio" name="question_13" value="0"></td>
                    <td><input type="radio" name="question_13" value="1"></td>
                    <td><input type="radio" name="question_13" value="2"></td>
                    <td><input type="radio" name="question_13" value="3"></td>
                </tr>
                <tr>
                    <td>Do you have Automated Test Reporting and MI?</td>
                    <td><input type="radio" name="question_14" value="0"></td>
                    <td><input type="radio" name="question_14" value="1"></td>
                    <td><input type="radio" name="question_14" value="2"></td>
                    <td><input type="radio" name="question_14" value="3"></td>
                </tr>
                <!-- Add more questions here -->
            </tbody>
        </table>
        <div class="text-center">
            <button type="submit" class="btn btn-secondary">Submit</button>
        </div>
        <p></p>

        <div class="back-button">
            <a href="#" onclick="history.back()" class="btn btn-secondary">Back</a>
            <a href="{% url 'QEMaturity' %}" class="btn btn-secondary">More Info</a>
        </div>
    </form>
</div>

<script>
    window.onload = function() {
        document.querySelector('form').addEventListener('submit', function(e) {
            var questions = ['question_1', 'question_2', 'question_3', 'question_4', 'question_5', 'question_6', 'question_7', 'question_8', 'question_9', 'question_10', 'question_11', 'question_12', 'question_13', 'question_14']; // add the names of all your questions here
            for (var i = 0; i < questions.length; i++) {
                var radios = document.querySelectorAll('input[name="' + questions[i] + '"]');
                var isChecked = false;
                for (var j = 0; j < radios.length; j++) {
                    if (radios[j].checked) {
                        isChecked = true;
                        break;
                    }
                }
                if (!isChecked) {
                    e.preventDefault();
                    alert('Please answer all questions before submitting.');
                    return;
                }
            }
        });

    }
</script>

{% endblock %}